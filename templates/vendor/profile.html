{% extends "base.html" %}
{% block title %}Vendor Profile{% endblock %}

{% block content %}
<div class="grid grid-cols-12 gap-6">
    <div class="col-span-12">
        <div class="bg-white rounded-xl shadow-md p-6">
            <h5 class="text-2xl font-semibold text-indigo-700 mb-1">Vendor Profile</h5>
            <p class="text-gray-600 mb-6">Add or update your vendor profile below.</p>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div id="flash-container" class="mb-4">
                        {% for category, message in messages %}
                            <div class="flash-message px-4 py-3 mb-4 rounded-md text-sm font-medium
                                {% if category == 'success' %} bg-green-100 text-green-800 border border-green-400
                                {% elif category == 'danger' or category == 'error' %} bg-red-100 text-red-800 border border-red-400
                                {% else %} bg-yellow-100 text-yellow-800 border border-yellow-400 {% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                    <script>
                        setTimeout(() => {
                            const flashContainer = document.getElementById('flash-container');
                            if (flashContainer) {
                                flashContainer.style.opacity = '0';
                                setTimeout(() => flashContainer.remove(), 500);
                            }
                        }, 5000);
                    </script>
                {% endif %}
            {% endwith %}

            <!-- Form -->
            <form method="POST" enctype="multipart/form-data" class="grid grid-cols-12 gap-x-6 gap-y-4">
                <!-- Left Column -->
                <div class="lg:col-span-6 col-span-12">
                    <div class="flex flex-col gap-4">
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Company Name</label>
                            <input name="company_name" value="{{ vendor.company_name if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Contact Person</label>
                            <input name="contact_person" value="{{ vendor.contact_person if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Email</label>
                            <input type="email" name="email" value="{{ vendor.email if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Phone</label>
                            <input name="contact_phone" value="{{ vendor.contact_phone if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">GST</label>
                            <input name="gst" value="{{ vendor.gst if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">PAN</label>
                            <input name="pan" value="{{ vendor.pan if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="lg:col-span-6 col-span-12">
                    <div class="flex flex-col gap-4">
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Address</label>
                            <input name="address" value="{{ vendor.address if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Region</label>
                            <input name="region" value="{{ vendor.region if vendor else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Logo</label>
                            <input type="file" name="logo" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Full Width Textareas -->
                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Dealing Categories</label>
                    <textarea name="dealing_categories" class="form-control py-2 w-full border border-gray-300 rounded-md" rows="2">{{ vendor.dealing_categories if vendor else '' }}</textarea>
                </div>

                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Product Categories</label>
                    <textarea name="product_categories" class="form-control py-2 w-full border border-gray-300 rounded-md" rows="2">{{ vendor.product_categories if vendor else '' }}</textarea>
                </div>

                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Why Choose Us</label>
                    <textarea name="why_me" class="form-control py-2 w-full border border-gray-300 rounded-md" rows="3">{{ vendor.why_me if vendor else '' }}</textarea>
                </div>


                  <div class="col-span-12 flex justify-end mt-4">
                    <button type="submit" class="py-2 px-6 text-sm font-medium rounded-md border border-transparent bg-success hover:bg-successemphasis text-white">
                        Update
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
