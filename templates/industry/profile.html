{% extends "base.html" %}
{% block title %}Industry Profile{% endblock %}

{% block content %}
<div class="grid grid-cols-12 gap-6">
    <div class="col-span-12">
        <div class="bg-white rounded-xl shadow-md p-6">
            <h5 class="text-2xl font-semibold text-indigo-700 mb-1">Industry Profile</h5>
            <p class="text-gray-600 mb-6">Add or update your industry profile below.</p>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div id="flash-container" class="mb-4">
                        {% for category, message in messages %}
                            <div class="flash-message px-4 py-3 mb-4 rounded-md text-sm font-medium
                                {% if category == 'success' %} bg-green-100 text-green-800 border border-green-400
                                {% elif category == 'danger' or category == 'error' %} bg-red-100 text-red-800 border border-red-400
                                {% else %} bg-yellow-100 text-yellow-800 border border-yellow-400 {% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                    <script>
                        setTimeout(() => {
                            const flashContainer = document.getElementById('flash-container');
                            if (flashContainer) {
                                flashContainer.style.opacity = '0';
                                setTimeout(() => flashContainer.remove(), 500);
                            }
                        }, 5000);
                    </script>
                {% endif %}
            {% endwith %}

            <!-- Form -->
            <form method="POST" enctype="multipart/form-data" class="grid grid-cols-12 gap-x-6 gap-y-4">
                <!-- Left Column -->
                <div class="lg:col-span-6 col-span-12">
                    <div class="flex flex-col gap-4">
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Company Name</label>
                            <input name="company_name" value="{{ industry.company_name if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Contact Person</label>
                            <input name="contact_person" value="{{ industry.contact_person if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Email</label>
                            <input type="email" name="email" value="{{ industry.email if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Phone</label>
                            <input name="contact_phone" value="{{ industry.contact_phone if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="lg:col-span-6 col-span-12">
                    <div class="flex flex-col gap-4">
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">GST</label>
                            <input name="gst" value="{{ industry.gst if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">PAN</label>
                            <input name="pan" value="{{ industry.pan if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Address</label>
                            <input name="address" value="{{ industry.address if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="font-semibold text-gray-700 mb-1 block">Logo</label>
                            <input type="file" name="logo" class="form-control py-2 w-full border border-gray-300 rounded-md">
                        </div>
                    </div>
                </div>

                <!-- Full Width Fields -->
                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Sector</label>
                    <input name="sector" value="{{ industry.sector if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                </div>

                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Team Size</label>
                    <input name="team_size" type="number" value="{{ industry.team_size if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                </div>

                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Annual Turnover</label>
                    <input name="annual_turnover" value="{{ industry.annual_turnover if industry else '' }}" class="form-control py-2 w-full border border-gray-300 rounded-md">
                </div>

                <div class="col-span-12">
                    <label class="font-semibold text-gray-700 mb-1 block">Vision</label>
                    <textarea name="vision" class="form-control py-2 w-full border border-gray-300 rounded-md" rows="3">{{ industry.vision if industry else '' }}</textarea>
                </div>

                <!-- Submit Button -->
                 <div class="col-span-12 flex justify-end mt-4">
                    <button type="submit" class="py-2 px-6 text-sm font-medium rounded-md border border-transparent bg-success hover:bg-successemphasis text-white">
                        Update
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
